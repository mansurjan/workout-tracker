{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"max-w-screen-sm mx-auto px-4 py-10\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"mb-10 p-4 rounded-md bg-light-grey\"\n};\nconst _hoisted_3 = {\n  class: \"text-red-500\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-3xl text-at-light-green mb-4\"\n}, \"Login\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"flex flex-col mb-2\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"mb-1 text-sm text-at-light-green\"\n}, \"Email\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"flex flex-col mb-2\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"mb-1 text-sm text-at-light-green\"\n}, \"Password\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"mt-6 py-2 px-6 rounded-sm text-sm self-start border-solid border-2 hover:border-at-light-green text-white bg-at-light-green border-transparent duration-200 hover:text-at-light-green hover:bg-white\"\n}, \" Login \", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" Don't have an account? \");\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-at-light-green\"\n}, \"Register\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Error handling \"), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", _hoisted_3, _toDisplayString($setup.errorMessage), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Register \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.login && $setup.login(...args), [\"prevent\"])),\n    class: \"p-8 flex flex-col bg-light-grey rounded-md shadow-lg\"\n  }, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    id: \"email\",\n    class: \"p-2 text-gray-500 focus:outline-none\",\n    required: \"\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    id: \"password\",\n    class: \"p-2 text-gray-500 focus:outline-none\",\n    required: \"\",\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.password]])]), _hoisted_9, _createVNode(_component_router_link, {\n    class: \"text-sm text-center mt-6\",\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_10, _hoisted_11]),\n    _: 1\n    /* STABLE */\n\n  })], 32\n  /* HYDRATE_EVENTS */\n  )]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;;EAEgBA,KAAK,EAAC;;;EAC1BA,KAAK,EAAC;;;gCAOTC,oBAAwD,IAAxD,EAAwD;EAApDD,KAAK,EAAC;AAA8C,CAAxD,EAA8C,OAA9C,EAAmD;AAAA;AAAnD;;;EAEKA,KAAK,EAAC;;;gCACTC,oBAEC,OAFD,EAEC;EAFMC,GAAG,EAAC,OAEV;EAFkBF,KAAK,EAAC;AAExB,CAFD,EACG,OADH,EACQ;AAAA;AADR;;;EAWGA,KAAK,EAAC;;;gCACTC,oBAEC,OAFD,EAEC;EAFMC,GAAG,EAAC,UAEV;EAFqBF,KAAK,EAAC;AAE3B,CAFD,EACG,UADH,EACW;AAAA;AADX;;gCAWFC,oBAIS,QAJT,EAIS;EAHPE,IAAI,EAAC,QAGE;EAFPH,KAAK,EAAC;AAEC,CAJT,EAE+M,SAF/M,EAIA;AAAA;AAJA;;kDAMyE;;iCAEvEC,oBAAiD,MAAjD,EAAiD;EAA3CD,KAAK,EAAC;AAAqC,CAAjD,EAAkC,UAAlC,EAA0C;AAAA;AAA1C;;;;;uBA5CNI,oBA+CM,KA/CN,cA+CM,CA9CJC,uCA8CI,EA7COC,qCAAXF,oBAEM,KAFN,cAEM,CADJH,oBAA8C,GAA9C,cAA8CM,iBAAnBD,mBAAmB,CAA9C,EAAuC;EAAA;EAAvC,CACI,CAFN,sCA6CI,EAzCJD,iCAyCI,EAxCJJ,oBAuCO,MAvCP,EAuCO;IAtCJO,QAAM,wDAAUF,qCAAV,EAAe,WAAf,EAsCF;IArCLN,KAAK,EAAC;EAqCD,CAvCP,GAGES,YAEAR,oBAUM,KAVN,cAUM,CATJS,UASI,kBANJT,oBAKoB,OALpB,EAKoB;IAJlBU,EAAE,EAAC,OAIe;IAHlBX,KAAK,EAAC,sCAGY;IAFlBY,QAAQ,EAAR,EAEkB;IADlBT,IAAI,EAAC,MACa;+DAATG,eAAKO;EAAI,CALpB;;EAAA,kBAKWP,eACP,CAVN,GAYAL,oBAUM,KAVN,cAUM,CATJa,UASI,kBANJb,oBAKuB,OALvB,EAKuB;IAJrBU,EAAE,EAAC,UAIkB;IAHrBX,KAAK,EAAC,sCAGe;IAFrBY,QAAQ,EAAR,EAEqB;IADrBT,IAAI,EAAC,UACgB;+DAAZG,kBAAQO;EAAI,CALvB;;EAAA,kBAKWP,kBACP,CAVN,GAYAS,YAMAC,aAGcC,sBAHd,EAGc;IAHDjB,KAAK,EAAC,0BAGL;IAHiCkB,EAAE,EAAE;MAAAC;IAAA;EAGrC,CAHd;sBAAyE,MAEvE;;;;GAFF,EAnCF;;EAAA,CAwCI,CA/CN","names":["class","_createElementVNode","for","type","_createElementBlock","_createCommentVNode","$setup","_toDisplayString","onSubmit","_hoisted_4","_hoisted_6","id","required","$event","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","name"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\Projet\\Vue\\workout-tracker\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- Error handling -->\n    <div v-if=\"errorMessage\" class=\"mb-10 p-4 rounded-md bg-light-grey\">\n      <p class=\"text-red-500\">{{ errorMessage }}</p>\n    </div>\n\n    <!-- Register -->\n    <form\n      @submit.prevent=\"login\"\n      class=\"p-8 flex flex-col bg-light-grey rounded-md shadow-lg\">\n      <h1 class=\"text-3xl text-at-light-green mb-4\">Login</h1>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"email\" class=\"mb-1 text-sm text-at-light-green\"\n          >Email</label\n        >\n        <input\n          id=\"email\"\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          required\n          type=\"text\"\n          v-model=\"email\" />\n      </div>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"password\" class=\"mb-1 text-sm text-at-light-green\"\n          >Password</label\n        >\n        <input\n          id=\"password\"\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          required\n          type=\"password\"\n          v-model=\"password\" />\n      </div>\n\n      <button\n        type=\"submit\"\n        class=\"mt-6 py-2 px-6 rounded-sm text-sm self-start border-solid border-2 hover:border-at-light-green text-white bg-at-light-green border-transparent duration-200 hover:text-at-light-green hover:bg-white\">\n        Login\n      </button>\n\n      <router-link class=\"text-sm text-center mt-6\" :to=\"{ name: 'Register' }\">\n        Don't have an account?\n        <span class=\"text-at-light-green\">Register</span>\n      </router-link>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/supabase.js\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  name: \"login\",\n  setup() {\n    // Create data / vars\n    const email = ref(null);\n    const password = ref(null);\n    const errorMessage = ref(null);\n    // Login function\n    const login = async () => {\n      try {\n        let { user, error } = await supabase.auth.signInWithPassword({\n          email: email.value,\n          password: password.value,\n        });\n\n        if (error) throw error;\n        router.push({ name: \"Home\" });\n      } catch (error) {\n        errorMessage.value = error.message;\n      }\n      setTimeout(() => {\n        errorMessage.value = null;\n      }, 5000);\n    };\n    return { email, password, errorMessage, login };\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}