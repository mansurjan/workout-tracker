{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/supabase.js\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"login\",\n\n  setup() {\n    // Create data / vars\n    const email = ref(null);\n    const password = ref(null);\n    const errorMessage = ref(null); // Login function\n\n    const login = async () => {\n      if (password.value && email.value) {\n        try {\n          let {\n            user,\n            error\n          } = await supabase.auth.signInWithPassword({\n            email: email.value,\n            password: password.value\n          });\n          if (error) throw error;\n          router.push({\n            name: \"Home\"\n          });\n        } catch (error) {\n          errorMessage.value = error.message;\n        }\n      }\n\n      errorMessage.value = \"Error: Incorrect email or password\";\n      setTimeout(() => {\n        errorMessage.value = null;\n      }, 5000);\n    };\n\n    return {\n      email,\n      password,\n      errorMessage,\n      login\n    };\n  }\n\n};","map":{"version":3,"mappings":";AAoDA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,eAAe;EACbC,IAAI,EAAE,OADO;;EAEbC,KAAK,GAAG;IACN;IACA,MAAMC,KAAI,GAAIL,GAAG,CAAC,IAAD,CAAjB;IACA,MAAMM,QAAO,GAAIN,GAAG,CAAC,IAAD,CAApB;IACA,MAAMO,YAAW,GAAIP,GAAG,CAAC,IAAD,CAAxB,CAJM,CAKN;;IACA,MAAMQ,KAAI,GAAI,YAAY;MACxB,IAAIF,QAAQ,CAACG,KAAT,IAAkBJ,KAAK,CAACI,KAA5B,EAAmC;QACjC,IAAI;UACF,IAAI;YAAEC,IAAF;YAAQC;UAAR,IAAkB,MAAMV,QAAQ,CAACW,IAAT,CAAcC,kBAAd,CAAiC;YAC3DR,KAAK,EAAEA,KAAK,CAACI,KAD8C;YAE3DH,QAAQ,EAAEA,QAAQ,CAACG;UAFwC,CAAjC,CAA5B;UAKA,IAAIE,KAAJ,EAAW,MAAMA,KAAN;UACXG,MAAM,CAACC,IAAP,CAAY;YAAEZ,IAAI,EAAE;UAAR,CAAZ;QACF,CARA,CAQE,OAAOQ,KAAP,EAAc;UACdJ,YAAY,CAACE,KAAb,GAAqBE,KAAK,CAACK,OAA3B;QACF;MACF;;MACAT,YAAY,CAACE,KAAb,GAAqB,oCAArB;MACAQ,UAAU,CAAC,MAAM;QACfV,YAAY,CAACE,KAAb,GAAqB,IAArB;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CAlBD;;IAmBA,OAAO;MAAEJ,KAAF;MAASC,QAAT;MAAmBC,YAAnB;MAAiCC;IAAjC,CAAP;EACD;;AA5BY,CAAf","names":["ref","supabase","useRouter","name","setup","email","password","errorMessage","login","value","user","error","auth","signInWithPassword","router","push","message","setTimeout"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\Projet\\Vue\\workout-tracker\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- Error handling -->\n    <div v-if=\"errorMessage\" class=\"mb-10 p-4 rounded-md bg-light-grey\">\n      <p class=\"text-red-500\">{{ errorMessage }}</p>\n    </div>\n\n    <!-- Register -->\n    <form\n      @submit.prevent=\"login\"\n      class=\"p-8 flex flex-col bg-light-grey rounded-md shadow-lg\">\n      <h1 class=\"text-3xl text-at-light-green mb-4\">Login</h1>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"email\" class=\"mb-1 text-sm text-at-light-green\"\n          >Email</label\n        >\n        <input\n          id=\"email\"\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          required\n          type=\"text\"\n          v-model=\"email\" />\n      </div>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"password\" class=\"mb-1 text-sm text-at-light-green\"\n          >Password</label\n        >\n        <input\n          id=\"password\"\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          required\n          type=\"password\"\n          v-model=\"password\" />\n      </div>\n\n      <button\n        type=\"submit\"\n        class=\"mt-6 py-2 px-6 rounded-sm text-sm self-start border-solid border-2 hover:border-at-light-green text-white bg-at-light-green border-transparent duration-200 hover:text-at-light-green hover:bg-white\">\n        Login\n      </button>\n\n      <router-link class=\"text-sm text-center mt-6\" :to=\"{ name: 'Register' }\">\n        Don't have an account?\n        <span class=\"text-at-light-green\">Register</span>\n      </router-link>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/supabase.js\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  name: \"login\",\n  setup() {\n    // Create data / vars\n    const email = ref(null);\n    const password = ref(null);\n    const errorMessage = ref(null);\n    // Login function\n    const login = async () => {\n      if (password.value && email.value) {\n        try {\n          let { user, error } = await supabase.auth.signInWithPassword({\n            email: email.value,\n            password: password.value,\n          });\n\n          if (error) throw error;\n          router.push({ name: \"Home\" });\n        } catch (error) {\n          errorMessage.value = error.message;\n        }\n      }\n      errorMessage.value = \"Error: Incorrect email or password\";\n      setTimeout(() => {\n        errorMessage.value = null;\n      }, 5000);\n    };\n    return { email, password, errorMessage, login };\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}