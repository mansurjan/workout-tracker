{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport Login from \"../views/Login.vue\";\nimport Register from \"../views/Register.vue\";\nimport Create from \"../views/Create.vue\";\nimport ViewWorkout from \"../views/ViewWorkout.vue\";\nconst routes = [{\n  path: \"/\",\n  name: \"Home\",\n  component: Home,\n  meta: {\n    title: \"Home\",\n    auth: false\n  }\n}, {\n  path: \"/login\",\n  name: \"Login\",\n  component: Login,\n  meta: {\n    title: \"Login\",\n    auth: false\n  }\n}, {\n  path: \"/register\",\n  name: \"Register\",\n  component: Register,\n  meta: {\n    title: \"Register\",\n    auth: false\n  }\n}, {\n  path: \"/create\",\n  name: \"Create\",\n  component: Create,\n  meta: {\n    title: \"Create\",\n    auth: true\n  }\n}, {\n  path: \"/view-workout/:workoutId\",\n  name: \"View-Workout\",\n  component: ViewWorkout,\n  meta: {\n    title: \"View Workout\",\n    auth: false\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n}); // Change document titles\n\nrouter.beforeEach((to, from, next) => {\n  document.title = `${to.meta.title} | Active Tracker`;\n  next();\n}); // Route guard for auth routes\n\nrouter.beforeEach((to, from, next) => {\n  const user = supabase.auth.user();\n\n  if (to.matched.some(res => res.meta.auth)) {\n    if (user) {\n      next();\n      return;\n    }\n\n    next({\n      name: \"Login\"\n    });\n    return;\n  }\n\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Home","Login","Register","Create","ViewWorkout","routes","path","name","component","meta","title","auth","router","history","process","env","BASE_URL","beforeEach","to","from","next","document","user","supabase","matched","some","res"],"sources":["C:/Users/Administrator/Desktop/Projet/Vue/workout-tracker/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport Login from \"../views/Login.vue\";\nimport Register from \"../views/Register.vue\";\nimport Create from \"../views/Create.vue\";\nimport ViewWorkout from \"../views/ViewWorkout.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n    meta: {\n      title: \"Home\",\n      auth: false,\n    },\n  },\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login,\n    meta: {\n      title: \"Login\",\n      auth: false,\n    },\n  },\n  {\n    path: \"/register\",\n    name: \"Register\",\n    component: Register,\n    meta: {\n      title: \"Register\",\n      auth: false,\n    },\n  },\n  {\n    path: \"/create\",\n    name: \"Create\",\n    component: Create,\n    meta: {\n      title: \"Create\",\n      auth: true,\n    },\n  },\n  {\n    path: \"/view-workout/:workoutId\",\n    name: \"View-Workout\",\n    component: ViewWorkout,\n    meta: {\n      title: \"View Workout\",\n      auth: false,\n    },\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\n// Change document titles\nrouter.beforeEach((to, from, next) => {\n  document.title = `${to.meta.title} | Active Tracker`;\n  next();\n});\n\n// Route guard for auth routes\nrouter.beforeEach((to, from, next) => {\n  const user = supabase.auth.user();\n  if (to.matched.some((res) => res.meta.auth)) {\n    if (user) {\n      next();\n      return;\n    }\n    next({ name: \"Login\" });\n    return;\n  }\n  next();\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GADR;EAEEC,IAAI,EAAE,MAFR;EAGEC,SAAS,EAAER,IAHb;EAIES,IAAI,EAAE;IACJC,KAAK,EAAE,MADH;IAEJC,IAAI,EAAE;EAFF;AAJR,CADa,EAUb;EACEL,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAEP,KAHb;EAIEQ,IAAI,EAAE;IACJC,KAAK,EAAE,OADH;IAEJC,IAAI,EAAE;EAFF;AAJR,CAVa,EAmBb;EACEL,IAAI,EAAE,WADR;EAEEC,IAAI,EAAE,UAFR;EAGEC,SAAS,EAAEN,QAHb;EAIEO,IAAI,EAAE;IACJC,KAAK,EAAE,UADH;IAEJC,IAAI,EAAE;EAFF;AAJR,CAnBa,EA4Bb;EACEL,IAAI,EAAE,SADR;EAEEC,IAAI,EAAE,QAFR;EAGEC,SAAS,EAAEL,MAHb;EAIEM,IAAI,EAAE;IACJC,KAAK,EAAE,QADH;IAEJC,IAAI,EAAE;EAFF;AAJR,CA5Ba,EAqCb;EACEL,IAAI,EAAE,0BADR;EAEEC,IAAI,EAAE,cAFR;EAGEC,SAAS,EAAEJ,WAHb;EAIEK,IAAI,EAAE;IACJC,KAAK,EAAE,cADH;IAEJC,IAAI,EAAE;EAFF;AAJR,CArCa,CAAf;AAgDA,MAAMC,MAAM,GAAGd,YAAY,CAAC;EAC1Be,OAAO,EAAEd,gBAAgB,CAACe,OAAO,CAACC,GAAR,CAAYC,QAAb,CADC;EAE1BX;AAF0B,CAAD,CAA3B,C,CAKA;;AACAO,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpCC,QAAQ,CAACX,KAAT,GAAkB,GAAEQ,EAAE,CAACT,IAAH,CAAQC,KAAM,mBAAlC;EACAU,IAAI;AACL,CAHD,E,CAKA;;AACAR,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,MAAME,IAAI,GAAGC,QAAQ,CAACZ,IAAT,CAAcW,IAAd,EAAb;;EACA,IAAIJ,EAAE,CAACM,OAAH,CAAWC,IAAX,CAAiBC,GAAD,IAASA,GAAG,CAACjB,IAAJ,CAASE,IAAlC,CAAJ,EAA6C;IAC3C,IAAIW,IAAJ,EAAU;MACRF,IAAI;MACJ;IACD;;IACDA,IAAI,CAAC;MAAEb,IAAI,EAAE;IAAR,CAAD,CAAJ;IACA;EACD;;EACDa,IAAI;AACL,CAXD;AAaA,eAAeR,MAAf"},"metadata":{},"sourceType":"module"}